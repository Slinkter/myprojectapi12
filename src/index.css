@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Minimalist Design Token Mapping */
  --bg-main: #f9fafb; /* Gray-50 */
  --bg-card: #ffffff; /* White */
  --bg-input: #f3f4f6; /* Gray-100 */

  --text-primary: #111827; /* Gray-900 */
  --text-secondary: #6b7280; /* Gray-500 */
  --text-accent: #2563eb; /* Blue-600 */

  --border-light: #e5e7eb; /* Gray-200 */
  --shadow-soft: 0 4px 6px -1px rgba(0, 0, 0, 0.05),
    0 2px 4px -1px rgba(0, 0, 0, 0.03);

  /* Variable Mapping for legacy neumo classes compatibility */
  --neumo-text: var(--text-primary);
  --neumo-text-dark: #f3f4f6;
  --neumo-shadow-dark: #e5e7eb; /* Used for borders now */
}

.dark:root {
  --bg-main: #111827; /* Gray-900 */
  --bg-card: #1f2937; /* Gray-800 */
  --bg-input: #374151; /* Gray-700 */

  --text-primary: #f9fafb; /* Gray-50 */
  --text-secondary: #9ca3af; /* Gray-400 */
  --text-accent: #60a5fa; /* Blue-400 */

  --border-light: #374151; /* Gray-700 */
  --shadow-soft: 0 4px 6px -1px rgba(0, 0, 0, 0.3),
    0 2px 4px -1px rgba(0, 0, 0, 0.15);
}

body {
  @apply bg-[var(--bg-main)] text-[var(--text-primary)] font-sans antialiased selection:bg-blue-100 selection:text-blue-900;
}

body.dark {
  @apply bg-[var(--bg-main)] text-[var(--text-primary)] selection:bg-blue-900 selection:text-blue-100;
}

/* === Minimalist Component System (Aliased to previous names) === */

.neumo-card {
  @apply bg-[var(--bg-card)] rounded-xl border border-[var(--border-light)] transition-all duration-300;
  box-shadow: var(--shadow-soft);
}

.neumo-card:hover {
  @apply shadow-lg border-blue-500/30 transform -translate-y-1;
}

.neumo-button {
  @apply px-4 py-2 rounded-lg font-medium transition-colors duration-200 border border-transparent;
  background-color: var(--bg-card);
  border-color: var(--border-light);
  color: var(--text-primary);
}

.neumo-button:hover {
  @apply bg-gray-50 border-gray-300 text-blue-600;
}

.dark .neumo-button:hover {
  @apply bg-gray-700 border-gray-600 text-blue-400;
}

.neumo-button:active,
.neumo-button--pressed {
  @apply bg-gray-100 transform scale-95;
}

.dark .neumo-button:active,
.dark .neumo-button--pressed {
  @apply bg-gray-700;
}

/* Primary Action variation override if needed */
.neumo-button-primary {
  @apply bg-blue-600 text-white border-transparent shadow-md hover:bg-blue-700 hover:text-white hover:border-transparent;
}

.neumo-input {
  @apply w-full rounded-lg bg-[var(--bg-input)] p-3 text-[var(--text-primary)] border border-transparent transition-all outline-none;
}

.neumo-input:focus {
  @apply border-blue-500 bg-[var(--bg-card)] ring-2 ring-blue-500/20;
}

/* === Specific Component Refinements === */

/* Product Grid */
.product-grid {
  @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 p-4 md:p-0;
}

.product-card {
  @apply flex flex-col h-full bg-[var(--bg-card)] rounded-xl overflow-hidden border border-[var(--border-light)] hover:shadow-xl transition-shadow duration-300;
}

.product-card__image {
  @apply w-full h-48 object-contain p-4 bg-white; /* Contain image for ecommerce purity */
}

.product-card__body {
  @apply p-4 flex flex-col flex-grow;
}

.product-card__title {
  @apply text-lg font-medium text-[var(--text-primary)] mb-1 leading-snug line-clamp-2 hover:text-blue-600 transition-colors cursor-pointer;
}

.product-card__description {
  @apply text-sm text-[var(--text-secondary)] line-clamp-2 mb-4 font-normal;
}

.product-card__footer {
  @apply mt-auto pt-4 flex items-center justify-between border-t border-[var(--border-light)];
}

.product-card__price {
  @apply text-xl font-bold text-[var(--text-primary)];
}

/* Pages */
.page-home__title {
  @apply text-3xl font-bold tracking-tight text-[var(--text-primary)] mb-2;
}

.page-home__subtitle {
  @apply text-base text-[var(--text-secondary)] font-normal max-w-2xl mx-auto mb-10;
}

.page-home__load-more-button {
  @apply mt-8 px-8 py-3 bg-[var(--text-primary)] text-[var(--bg-card)] rounded-full font-bold hover:bg-blue-600 hover:text-white transition-all shadow-lg hover:shadow-blue-500/30;
}

/* Cart & Modal Overrides */
.cart-drawer {
  @apply shadow-2xl border-l border-[var(--border-light)] bg-[var(--bg-card)];
}

.cart-drawer__header {
  @apply border-b border-[var(--border-light)] pb-4 mb-4;
}

.cart-drawer__item {
  @apply border-b border-[var(--border-light)] last:border-0;
}
